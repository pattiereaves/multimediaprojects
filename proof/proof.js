function setDimensions(){if((jQuery(window).width()-120)/jQuery(window).height()<1.777777777){var e=jQuery(window).height();var t=e*1.777777}else{var t=jQuery(window).width()-120;var e=t*.5625}jQuery("#inlineStyles").html("#wrapper, .background{ height:"+jQuery(window).height()+"px;}"+"#work-area, .background, section{ width:"+(jQuery(window).width()-120)+"px;}"+".videoBackground{"+"height:"+e+"px;"+"width:"+t+"px;"+"}"+".videoForeground{"+"width:"+(jQuery(window).width()-120)+"px;"+"height:"+(jQuery(window).width()-120)*.5625+"px;"+"margin-top:"+(jQuery(window).height()-(jQuery(window).width()-120)*.5625)/2+"px;"+"}")}function setUpSlide(e,t){if(!window.proofData.chapters[e].slides[t])return false;var n=window.proofData.chapters[e].slides[t];var r="";if(n.background){r+='<div class="background"'+(n.background.color?' style="background-color:#'+n.background.color+'" ':"")+">";if(n.background.type=="video"){r+="<video "+(n.background.loop?" loop ":" controls ")+' poster="http://external.bangordailynews.com/projects/2013/06/proof/img/'+n.background.file+'.png" '+(n.background.loop?' class="videoBackground"':' class="videoForeground"')+">"+'<source src="http://videohttp.bangordailynews.com/vod/bdnmaine.bangorpublishing/bdn/2013/06/proof/'+n.background.file+'_lo.webm"  type="video/webm">'+'<source src="http://videohttp.bangordailynews.com/vod/bdnmaine.bangorpublishing/bdn/2013/06/proof/'+n.background.file+'_lo.m4v" type="video/mp4">'+'<source src="http://videohttp.bangordailynews.com/vod/bdnmaine.bangorpublishing/bdn/2013/06/proof/'+n.background.file+'_lo.ogv" type="video/ogg">'+"</video>"}else if(n.background.type=="image"){r+='<img src="http://external.bangordailynews.com/projects/2013/06/proof/img/'+n.background.file+'" style="height:100%;" align="right">'}r+="</div>"}if(n.overlay){r+='<div class="overlay"><div class="overlay-inner">'+n.overlay+"</div></div>"}jQuery("#work-area").append('<section id="slide_'+e+"-"+t+'">'+r+"</section>");jQuery(".credits").parent(".overlay").css("width","80%");if(e==6&&t==0){jQuery(".scrolling").css("display","none")}}function getNextSlide(){if(window.proofData.chapters[window.currentChapter].slides[window.currentSlide+1])return{chapter:window.currentChapter,slide:window.currentSlide+1};if(window.proofData.chapters[window.currentChapter+1].slides[0])return{chapter:window.currentChapter+1,slide:0};return false}function getPreviousSlide(){if(window.currentChapter==0&&window.currentSlide==0)return false;if(window.currentSlide>0)return{chapter:window.currentChapter,slide:window.currentSlide-1};return{chapter:window.currentChapter-1,slide:window.proofData.chapters[window.currentChapter-1].slides.length-1}}function goToNextSlide(){goToSlide(getNextSlide())}function goToPreviousSlide(){goToSlide(getPreviousSlide())}function scrollToSlide(e){if(e>1){goToPreviousSlide()}else{goToNextSlide()}}function goToSlide(e){var t=new Date;if(!e||t.getTime()-window.lastSlideMove<1e3){return false}window.lastSlideMove=t.getTime();if(jQuery("#slide_"+e.chapter+"-"+e.slide).length==0){setUpSlide(e.chapter,e.slide)}var n=getPreviousSlide();if(n.chapter==e.chapter&&n.slide==e.slide){var r="+=1200px";jQuery("#slide_"+e.chapter+"-"+e.slide+" .overlay").css({top:"-1200px"})}else{var r="-=1200px"}jQuery("#slide_"+window.currentChapter+"-"+window.currentSlide).removeClass("active");jQuery("#slide_"+window.currentChapter+"-"+window.currentSlide+" .overlay").animate({top:r},1900);jQuery("#slide_"+window.currentChapter+"-"+window.currentSlide+" .background").fadeOut(900);if(jQuery("#slide_"+e.chapter+"-"+e.slide+" video").get(0)){jQuery("#slide_"+e.chapter+"-"+e.slide+" video").get(0).play();jQuery("#slide_"+e.chapter+"-"+e.slide+" video").bind("ended",function(){goToNextSlide()})}jQuery("#slide_"+e.chapter+"-"+e.slide+" video").show();jQuery("#slide_"+e.chapter+"-"+e.slide).addClass("active");jQuery("#slide_"+e.chapter+"-"+e.slide+" .background").delay(500).fadeIn(2500);jQuery("#slide_"+e.chapter+"-"+e.slide+" .overlay").animate({top:"0px"},1900);jQuery("#navigation-list li").removeClass("active");jQuery('li[chapter~="'+e.chapter+'"]').addClass("active");window.removeSlide={chapter:window.currentChapter,slide:window.currentSlide};setTimeout(function(){jQuery("#slide_"+window.removeSlide.chapter+"-"+window.removeSlide.slide).remove();window.canScroll=true},1e3);window.currentSlide=e.slide;window.currentChapter=e.chapter;if(window.currentChapter==6){jQuery(".scrolling").hide();jQuery("#show-embed").show("fast")}else if(!jQuery(".scrolling").is(":visible")){jQuery(".scrolling").show();jQuery("#show-embed").hide("fast")}var i=getNextSlide();if(i&&jQuery("#slide_"+i.chapter+"-"+i.slide).length==0){setUpSlide(i.chapter,i.slide)}_gaq.push(["_trackEvent","Proof New","Slides final","Slide "+window.currentChapter+"-"+window.currentSlide])}function isAtTopOfOverlay(){return jQuery("#slide_"+window.currentChapter+"-"+window.currentSlide+" .overlay").length==0||jQuery("#slide_"+window.currentChapter+"-"+window.currentSlide+" .overlay").scrollTop()<=1}function isAtBottomOfOverlay(){return jQuery("#slide_"+window.currentChapter+"-"+window.currentSlide+" .overlay").length==0||jQuery("#slide_"+window.currentChapter+"-"+window.currentSlide+" .overlay").prop("scrollHeight")==jQuery("#slide_"+window.currentChapter+"-"+window.currentSlide+" .overlay").prop("offsetHeight")+jQuery("#slide_"+window.currentChapter+"-"+window.currentSlide+" .overlay").scrollTop()}(function(e){e.fn.touchwipe=function(t){var n={wipeUp:function(){},wipeDown:function(){}};if(t)e.extend(n,t);this.each(function(){function i(){this.removeEventListener("touchmove",s);e=null;r=false}function s(s){if(r){var o=s.touches[0].pageX;var u=s.touches[0].pageY;var a=e-o;var f=t-u;i();if(f>0){if(isAtBottomOfOverlay()){s.preventDefault();n.wipeDown()}}else{if(isAtTopOfOverlay()){s.preventDefault();n.wipeUp()}}}}function o(n){if(n.touches.length==1){e=n.touches[0].pageX;t=n.touches[0].pageY;r=true;this.addEventListener("touchmove",s,false)}}var e;var t;var r=false;if("ontouchstart"in document.documentElement){this.addEventListener("touchstart",o,false)}});return this}})(jQuery);jQuery("#nextSlide").click(function(e){e.preventDefault();_gaq.push(["_trackEvent","Proof New","Move method","Click"]);goToNextSlide()});jQuery("#fullscreen").click(function(e){e.preventDefault();_gaq.push(["_trackEvent","Proof","Action","Fullscreen"]);if(window.fullScreenApi.isFullScreen()){window.fullScreenApi.cancelFullScreen();document.getElementById("fullscreen").innerHTML="Fullscreen"}else{window.fullScreenApi.requestFullScreen(document.getElementById("wrapper"));document.getElementById("fullscreen").innerHTML="Exit fullscreen"}});jQuery("#navigation-list li").click(function(e){if(!jQuery(this).attr("chapter"))return;e.preventDefault();_gaq.push(["_trackEvent","Proof New","Move method","Chapters"]);goToSlide({chapter:parseInt(jQuery(this).attr("chapter")),slide:0})});jQuery(document).keydown(function(e){switch(e.keyCode){case 40:e.preventDefault();if(isAtBottomOfOverlay()){_gaq.push(["_trackEvent","Proof New","Move method","Arrow down"]);goToNextSlide()}else{jQuery("#slide_"+window.currentChapter+"-"+window.currentSlide+" .overlay").scrollTop(jQuery("#slide_"+window.currentChapter+"-"+window.currentSlide+" .overlay").scrollTop()+20)}break;case 38:e.preventDefault();if(isAtTopOfOverlay()){_gaq.push(["_trackEvent","Proof New","Move method","Arrow up"]);goToPreviousSlide()}else{jQuery("#slide_"+window.currentChapter+"-"+window.currentSlide+" .overlay").scrollTop(jQuery("#slide_"+window.currentChapter+"-"+window.currentSlide+" .overlay").scrollTop()-20)}break;case 32:e.preventDefault();if(jQuery("#slide_"+window.currentChapter+"-"+window.currentSlide+" video").get(0)&&jQuery("#slide_"+window.currentChapter+"-"+window.currentSlide+" video").hasClass("videoForeground")){var t=jQuery("#slide_"+window.currentChapter+"-"+window.currentSlide+" video").get(0);if(t.paused){t.play()}else{t.pause()}}break}});window.mouseWheel=0;window.marginOffset=0;window.canScroll=true;jQuery("body").bind("mousewheel",function(e,t,n,r){if(r>0&&!isAtTopOfOverlay()||r<0&&!isAtBottomOfOverlay()){}else{if(!window.canScroll){window.mouseWheel=0}else{window.mouseWheel+=r;clearInterval(window.clearScroll);window.clearScroll=setInterval(function(){window.mouseWheel=0},1e3)}if(window.mouseWheel>1e3||window.mouseWheel<-1e3){_gaq.push(["_trackEvent","Proof New","Move method","Scroll"]);scrollToSlide(window.mouseWheel);clearInterval(window.clearScroll);window.canScroll=false;window.mouseWheel=0}}});jQuery("body").touchwipe({wipeUp:function(){_gaq.push(["_trackEvent","Proof New","Move method","Swipe"]);goToPreviousSlide()},wipeDown:function(){_gaq.push(["_trackEvent","Proof New","Move method","Swipe"]);goToNextSlide()}});jQuery(window).resize(function(){setDimensions()});jQuery(document).ready(function(){if(!Modernizr.video){jQuery("body").html('<div style="color: #fff; background-color: #000; z-index:999999999;"><h2>Sorry, it appears you\'re using an older browser</h2><h4>We appreciate your interest, but for all of these features to work correctly, you\'ll need to use a newer browser.</h4><p>Using an outdated browser can make your computer unsafe. Websites will load slowly, and some might not load at all. In order to enjoy all the features of our site, we recommended you upgrade to a newer, more secure browser. <a href="http://browsehappy.com/" style="font-size: 1.2em;">Read more »</a>.<br><br>If you don\'t have administrator privileges for your computer, you can still take action. Google has developed a free plugin for Internet Explorer called <a href="http://www.google.com/chromeframe/" style="font-size: 1.2em;">Google Chrome Frame</a>. You can install it on any computer, even if you can\'t install applications, and it will ensure your computer stays secure and that you can still visit our website. <a href="http://www.google.com/chromeframe/eula.html?hl=en&prefersystemlevel=true" style="font-size: 1.2em;">Enable Google Chrome Frame now »</a></p></div>');_gaq.push(["_trackEvent","Proof","No support"]);return false}if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)){jQuery("body").append('<div id="mobile-warning" style="color: #000; background: #fff; border: 1px solid #333; opacity: .8; width: 600px; padding: 30px; margin: auto; position: absolute; left: 50%; top: 50px; margin-left: -300px; z-index: 1000000;"><h2>Thank you for your interest</h2><h4>For best results, please view this on a desktop computer or tablet.</h4><p style="text-align:right;"><a href="javascript:jQuery( \'#mobile-warning\' ).hide( \'fast\' );">Continue anyway →</a></p></div>');_gaq.push(["_trackEvent","Proof","Mobile"])}setDimensions();if(!window.fullScreenApi.supportsFullScreen){jQuery("#fullscreen").remove()}setUpSlide(0,0);setUpSlide(1,0);window.currentSlide=0;window.currentChapter=0;window.removeSlide=0;jQuery("#slide_0-0 .background, video").fadeIn(2500);jQuery("#slide_0-0 .overlay").animate({top:"0px"},1900);jQuery("#slide_0-0").addClass("active");jQuery("#slide_0-0 video").get(0).play();_gaq.push(["_trackEvent","Proof New","Slides final","Slide 0-0"])});window.lastSlideMove=0;(function(){var e={supportsFullScreen:false,isFullScreen:function(){return false},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},t="webkit moz o ms khtml".split(" ");if(typeof document.cancelFullScreen!="undefined"){e.supportsFullScreen=true}else{for(var n=0,r=t.length;n<r;n++){e.prefix=t[n];if(typeof document[e.prefix+"CancelFullScreen"]!="undefined"){e.supportsFullScreen=true;break}}}if(e.supportsFullScreen){e.fullScreenEventName=e.prefix+"fullscreenchange";e.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}};e.requestFullScreen=function(e){return this.prefix===""?e.requestFullScreen():e[this.prefix+"RequestFullScreen"]()};e.cancelFullScreen=function(e){return this.prefix===""?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()}}if(typeof jQuery!="undefined"){jQuery.fn.requestFullScreen=function(){return this.each(function(){var t=jQuery(this);if(e.supportsFullScreen){e.requestFullScreen(t)}})}}window.fullScreenApi=e})()